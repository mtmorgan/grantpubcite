% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/user_interface.R
\name{reporter_projects}
\alias{reporter_projects}
\alias{reporter_publications}
\alias{icite}
\title{Query projects, publications and citations}
\usage{
reporter_projects(..., include_fields = NULL, limit = NULL, verbose = FALSE)

reporter_publications(..., limit = NULL, verbose = FALSE)

icite(tbl, include_fields = NULL, verbose = FALSE)
}
\arguments{
\item{...}{named arguments descrbing fields in the query. Values
are from the 'Schema' linked to the API description.}

\item{include_fields}{\code{character()} of fields to include. The
default (null) returns all available fields.}

\item{limit}{integer(1) return a maximum of \code{limit} records
matching search criteria.}

\item{verbose}{logical(1) report JSON used in search criteria, and
a summary of responses prior to processing to their final
\code{tibble} representation.}

\item{tbl}{For \code{icite()}, \code{tbl} must contain a column \code{pmid} with
PubMed ids, for instance as in the tibble derived from
\code{reporter_publications()}.}
}
\value{
\code{reporter_projects()} returns a tibble with selected
columns. Available columns are described in the schema
available on the API documentation page.

\code{reporter_publications()} returns a tibble with columns
\code{coreproject}, \code{pmid}, and \code{applid}.

\code{icite()} returns a tibble with columns defined by
\code{include_fields}.
}
\description{
Query projects, publications and citations
}
\details{
The NIH reporter API used for \code{reporter_projects()} and
\code{reporter_publications()} is documented at
https://api.reporter.nih.gov/.

The \code{icite()} API is described at
https://icite.od.nih.gov/api.
}
\examples{
foas <- c(        # one or more criteria, e.g., foa number(s)
    "PAR-15-334", # ITCR (R21)”
    "PAR-15-332", # ITCR Early-Stage Development (U01)
    "PAR-15-331", # ITCR Advanced Development (U24)
    "PAR-15-333"  # ITCR Sustained Support (U24)
)

## use `limit = 1` to see possible values for fields to be included
reporter_projects(foa = foas, limit = 1L) |>
    glimpse()

## select fields of interest
include_fields <- c(
    "full_foa",
    "core_project_num",
    "fiscal_year",
    "award_amount",
    "contact_pi_name",
    "project_title",
    "project_start_date",
    "project_end_date"
)
projects <- reporter_projects(foa = foas, include_fields = include_fields)
projects

core_project_nums <- pull(projects, "core_project_num")
publications <- reporter_publications(core_project_nums = core_project_nums)
publications

## which fields are available in icite?
icite(slice(publications, 1L)) |>
    glimpse()

include_fields <- c(
    "pmid", "year", "citation_count", "relative_citation_ratio",
    "doi"
)
icite(publications, include_fields)

}
