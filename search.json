[{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"project-information","dir":"Articles","previous_headings":"","what":"Project information","title":"Case study: ITCR","text":"relevant funding opportunity announcements (FOA) summarized tibble (‘tidy’ version data.frame) NIH Reporter contains quite bit information grant. Following Get started article, query reporter_projects() endpoint, restricting fields included return value particular interest. Retrieve fields projects NIH reporter associated funding announcements interest. Perform minor data cleaning removing leading trailing whitespace contact PI names result tidyverse tibble, use ‘tidy’ semantics explore data. instance, although 341 returned NIH Reporter, project associated funding multiple fiscal years perhaps mechanisms (e.g., administrative supplements). number projects funded FOA number projects funded per fiscal year projects changed names within award; convenience create table -recent project titles 87 projects funded ITCR update projects use harmonized project titles. Three project numbers funded one FOA. following summarizes project funding across years; likely many caveats .","code":"foas <- tribble(     ~full_foa,    ~reissue_of,  ~foa_tag,      ~description,     ## current FOAs     \"PAR-15-331\", \"PAR-13-294\", \"Advanced\",    \"Advanced Development of Informatics Technologies for Cancer Research and Management (U24)\",     \"PAR-15-332\", \"PAR-12-288\", \"Early-Stage\", \"Early-Stage Development of Informatics Technologies for Cancer Research and Management (U01)\",     \"PAR-15-333\", NA,           \"Sustained\",   \"Sustained Support for Informatics Resources for Cancer Research and Management (U24)\",     \"PAR-15-334\", NA,           \"Innovative\",  \"Development of Innovative Informatics Methods and Algorithms for Cancer Research and Management (R21)\",     ## earlier FOAs     \"PAR-13-294\", \"PAR-12-287\", \"Advanced\",    \"Advanced Development of Informatics Technology (U24)\",     \"PAR-12-287\", NA,           \"Advanced\",    \"Advanced Development of Informatics Technology (U24)\",     \"PAR-12-288\", NA,           \"Early-Stage\", \"Early-Stage Development of Informatics Technology (U01)\"     ## FIXME: add 'Revsion of...' FOAs ) foas <- select(foas, -reissue_of) # drop 'reissue_of' for clarity include_fields <- c(     \"full_foa\",     \"core_project_num\",     \"fiscal_year\",     \"award_amount\",     \"contact_pi_name\",     \"project_title\" ) projects <-     reporter_projects(         foa = foas$full_foa,         include_fields = include_fields     ) |>     mutate(contact_pi_name = trimws(contact_pi_name)) projects |>     distinct(full_foa, core_project_num) |>     left_join(foas, by = \"full_foa\") |>     datatable() projects |>     left_join(foas) |>     distinct(foa_tag, core_project_num) |>     count(foa_tag) #> Joining with `by = join_by(full_foa)` #> # A tibble: 4 × 2 #>   foa_tag         n #>   <chr>       <int> #> 1 Advanced       32 #> 2 Early-Stage    29 #> 3 Innovative     21 #> 4 Sustained       5 projects |>     distinct(full_foa, core_project_num, fiscal_year) |>     count(fiscal_year) #> # A tibble: 11 × 2 #>    fiscal_year     n #>          <int> <int> #>  1        2013     7 #>  2        2014    17 #>  3        2015    27 #>  4        2016    38 #>  5        2017    45 #>  6        2018    51 #>  7        2019    63 #>  8        2020    42 #>  9        2021    22 #> 10        2022    10 #> 11        2023     1 project_titles_h <-     projects |>     select(fiscal_year, core_project_num, project_title) |>     arrange(desc(fiscal_year)) |>     filter(!duplicated(core_project_num)) |>     select(core_project_num, project_title) datatable(project_titles_h) projects <-     projects |>     select(-project_title) |>     left_join(project_titles_h, by = \"core_project_num\") projects |>     distinct(full_foa, core_project_num) |>     count(core_project_num, sort =  TRUE) |>     filter(n > 1L) |>     left_join(project_titles_h) #> Joining with `by = join_by(core_project_num)` #> # A tibble: 3 × 3 #>   core_project_num     n project_title                                           #>   <chr>            <int> <chr>                                                   #> 1 U24CA180922          2 Trinity: Transcriptome assembly for genetic and functi… #> 2 U24CA180996          2 Cancer Genomics: Integrative and Scalable Solutions in… #> 3 U24CA184427          2 NDEx - the Network Data Exchange A Network Commons for… project_summaries <-     projects |>     group_by(core_project_num) |>     summarize(         n_years = length(unique(fiscal_year)),         amount = sum(award_amount)     ) |>     left_join(project_titles_h, by = \"core_project_num\") |>     arrange(desc(n_years))  project_summaries |>     ggplot(aes(n_years, amount)) +     geom_point() + geom_smooth(method = \"lm\") +     scale_x_continuous(breaks = seq(1, 10), minor_breaks = NULL) +     labs(x = \"Fiscal years of award\", y = \"Total funding\") #> `geom_smooth()` using formula = 'y ~ x' datatable(project_summaries)"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"maturing-projects","dir":"Articles","previous_headings":"Project information","what":"Maturing projects?","title":"Case study: ITCR","text":"unique aspect ITCR FOA structure envisions projects starting one FOA ‘maturing’ next FOA, e.g., Early-Stage U01 matures Advanced U24. possible assess tracking project number full FOA, project number changes FOA. projects contact PI received awards different FOA tags? Direct inspection suggests three contact PIs (Giffith, Karchin, Liu) seen one project mature. ‘Early-stage’ ‘Advanced’.","code":"tagged_pis <-     projects |>     distinct(full_foa, core_project_num, contact_pi_name) |>     left_join(foas, by = \"full_foa\") |>     select(foa_tag, contact_pi_name) |>     distinct() maturing_pis <-     tagged_pis |>     count(contact_pi_name, sort = TRUE) |>     filter(n > 1L) |>     select(-n) |>     left_join(         projects |>         distinct(full_foa, core_project_num, contact_pi_name, project_title),         multiple = \"all\"     ) |>     left_join(foas, by = \"full_foa\") |>     select(contact_pi_name, project_title, foa_tag) |>     arrange(contact_pi_name, project_title, foa_tag) #> Joining with `by = join_by(contact_pi_name)` DT::datatable(maturing_pis)"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"publications","dir":"Articles","previous_headings":"","what":"Publications","title":"Case study: ITCR","text":"Grantees report publications associated grants, information can retrieved NIH reporter. Queries formulated way similar projects, described NIH Reporter publication search API, rich set query criteria can used, fields included return strictly limited. Projects funded 2020 42 projects receiving funds fiscal year 2020. Publications associated projects obtained 705 distinct publications (published 2020).","code":"projects_2020 <-     projects |>     filter(fiscal_year == \"2020\") |>     left_join(project_summaries) |>     distinct(         full_foa, core_project_num,         n_years, amount, project_title     ) #> Joining with `by = join_by(core_project_num, project_title)` publications <- reporter_publications(     core_project_nums = pull(projects_2020, \"core_project_num\") ) |>     select(-applid) # we won't use 'applid'"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"project-publication-and-funding","dir":"Articles","previous_headings":"Publications","what":"Project publication and funding","title":"Case study: ITCR","text":"prolific projects exceptional number publications reported project number ‘U01CA239055’. relationship publication funding period amount visualized follows.","code":"publications_by_project <-     publications |>     count(coreproject, sort = TRUE) |>     left_join(         projects_2020,         by = c(coreproject = \"core_project_num\"),         multiple = \"last\"     ) datatable(publications_by_project) publications_by_project |>     ggplot(aes(n_years, n)) +     geom_point() + geom_smooth(method = \"lm\") +     scale_x_continuous(breaks = seq(1, 10), minor_breaks = NULL) +     labs(x = \"Fiscal years of award\", y = \"Number of publications\") #> `geom_smooth()` using formula = 'y ~ x'  publications_by_project |>     ggplot(aes(amount, n)) +     geom_point() + geom_smooth(method = \"lm\") +     labs(x = \"Total funding\", y = \"Number of publications\") #> `geom_smooth()` using formula = 'y ~ x'"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"itcr-collaboration","dir":"Articles","previous_headings":"Publications","what":"ITCR collaboration","title":"Case study: ITCR","text":"ITCR emphasizes collaboration funded projects. examples collaboration level publication, .e., pmid associated one project number? projects collaborating shared publication?","code":"collaborative_pmid <-     publications |>     count(pmid, sort = TRUE, name = \"n_collab\") |>     filter(n_collab > 1) collaborative_pmid #> # A tibble: 13 × 2 #>        pmid n_collab #>       <int>    <int> #>  1 35072136        3 #>  2 29533785        2 #>  3 30930166        2 #>  4 31238109        2 #>  5 32383980        2 #>  6 33067482        2 #>  7 33119407        2 #>  8 33237278        2 #>  9 33574288        2 #> 10 33720842        2 #> 11 35311178        2 #> 12 35759080        2 #> 13 35760813        2 collaborative_pmid |>     left_join(publications, multiple = \"all\") |>     count(coreproject, sort = TRUE, name = \"n_collab\") |>     left_join(project_summaries, by = c(coreproject = \"core_project_num\")) |>     select(core_project_num = coreproject, n_collab, project_title) |>     distinct() |>     filter(n_collab > 1) |>     datatable() #> Joining with `by = join_by(pmid)`"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"citations","dir":"Articles","previous_headings":"","what":"Citations","title":"Case study: ITCR","text":"Query iCite citations publications associated ITCR projects funded 2020, restricting output include fields interest. 719 publications 36255 total citations; 98 publications cited; surprisingly uncited publications recent. Citations follow familiar pattern, publications cited frequently.  Highly cited publications high-impact journals, emphasize science-related results rather software tool per se – tool used important study, authors study acknowledged tool. Citations per project summarized .","code":"include_fields <- c(     \"pmid\", \"year\", \"citation_count\", \"relative_citation_ratio\",     \"year\", \"title\", \"authors\", \"journal\", \"doi\" ) citations <- icite(publications, include_fields) citations <- left_join(publications, citations) #> Joining with `by = join_by(pmid)` citations |>     group_by(year) |>     summarize(         n_projects = length(unique(coreproject)),         n_pub = n(),         n_uncite = sum(citation_count == 0L),         citn_count = sum(citation_count)     ) |>     DT::datatable() citations |>     filter(citation_count > 0) |>     ggplot(aes(x = citation_count)) +     scale_x_log10() +     geom_density() +     xlab(\"Number of citations\") + ylab(\"Number of publications\") citations |>     arrange(desc(citation_count)) |>     select(coreproject, pmid, year, citation_count, journal, title) |>     datatable() citations |>     group_by(coreproject) |>     summarize(         n_pub = n(),         n_uncite = sum(citation_count == 0L),         citn_count = sum(citation_count)     ) |>     arrange(desc(citn_count)) |>     left_join(project_summaries, by = c(coreproject = \"core_project_num\")) |>     datatable()"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"itcr-collaborations","dir":"Articles","previous_headings":"Citations","what":"ITCR collaborations","title":"Case study: ITCR","text":"opportunity (indirect) collaboration occurs one project cites work another project. Thus query iCite publications cited ITCR publications, exclude publications ITCR publications. 840 citations ITCR publications ITCR projects. following summarizes citations project level Self-citations One can view collaboration number projects cite particular project… …number projects project cites","code":"include_fields <- c(\"pmid\", \"cited_by\") cited_by <- icite(publications, include_fields)  ## 'cited_by' is a space-delimited character vector of pmid ids; expand these... cited_by_pmids <-     pull(cited_by, \"cited_by\") |>     lapply(strsplit, \"[[:blank:]]\") |>     unlist(recursive = FALSE)  ## ...construct a tibble of pmid / cited_by pmid pmid_cited_by_itcr <-     tibble(         pmid = rep(pull(cited_by, \"pmid\"), lengths(cited_by_pmids)),         cited_by = unlist(cited_by_pmids) |> as.integer()     ) |>     ## and exclude citations by non-ITCR publications     filter(cited_by %in% pmid) core_project_citations <-     pmid_cited_by_itcr |>     ## map pmid to coreproject     left_join(publications, multiple = \"all\") |>     rename(core_project_num = coreproject) |>     ## map cited_by to coreproject     left_join(         publications,         by = c(cited_by = \"pmid\"),         multiple = \"all\"     ) |>     rename(cited_by_core_project = coreproject) #> Joining with `by = join_by(pmid)` project_project_citations <-     core_project_citations |>     count(core_project_num, cited_by = cited_by_core_project, name = \"n_citns\") project_project_citations |>     filter(core_project_num == cited_by) |>     arrange(desc(n_citns)) |>     left_join(project_summaries) |>     select(-cited_by) |>     rename(self_citn = \"n_citns\") |>     datatable() #> Joining with `by = join_by(core_project_num)` project_project_citations |>     filter(core_project_num != cited_by) |>     group_by(core_project_num) |>     summarize(n_collaborators = length(unique(cited_by))) |>     arrange(desc(n_collaborators)) |>     left_join(project_titles_h) |>     datatable() #> Joining with `by = join_by(core_project_num)` project_project_citations |>     filter(core_project_num != cited_by) |>     group_by(cited_by) |>     summarize(n_collaborators = length(unique(core_project_num))) |>     arrange(desc(n_collaborators)) |>     left_join(project_titles_h, by = c(cited_by = \"core_project_num\")) |>     datatable()"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_itcr.html","id":"session-information","dir":"Articles","previous_headings":"","what":"Session information","title":"Case study: ITCR","text":"","code":"sessionInfo() #> R version 4.2.2 (2022-10-31) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.2 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] DT_0.27                 ggplot2_3.4.1           grantpubcite_0.0.0.9005 #> [4] dplyr_1.1.0             #>  #> loaded via a namespace (and not attached): #>  [1] lattice_0.20-45   rprojroot_2.0.3   digest_0.6.31     utf8_1.2.3        #>  [5] R6_2.5.1          evaluate_0.20     httr_1.4.5        highr_0.10        #>  [9] pillar_1.8.1      rlang_1.0.6       curl_5.0.0        jquerylib_0.1.4   #> [13] Matrix_1.5-1      rmarkdown_2.20    pkgdown_2.0.7     textshaping_0.3.6 #> [17] desc_1.4.2        labeling_0.4.2    splines_4.2.2     readr_2.1.4       #> [21] stringr_1.5.0     htmlwidgets_1.6.1 bit_4.0.5         munsell_0.5.0     #> [25] compiler_4.2.2    xfun_0.37         pkgconfig_2.0.3   systemfonts_1.0.4 #> [29] mgcv_1.8-41       htmltools_0.5.4   tidyselect_1.2.0  tibble_3.1.8      #> [33] fansi_1.0.4       crayon_1.5.2      tzdb_0.3.0        withr_2.5.0       #> [37] rjsoncons_1.0.0   grid_4.2.2        nlme_3.1-160      jsonlite_1.8.4    #> [41] gtable_0.3.1      lifecycle_1.0.3   magrittr_2.0.3    scales_1.2.1      #> [45] cli_3.6.0         stringi_1.7.12    vroom_1.6.1       cachem_1.0.7      #> [49] farver_2.1.1      fs_1.6.1          bslib_0.4.2       ellipsis_0.3.2    #> [53] ragg_1.2.5        generics_0.1.3    vctrs_0.5.2       tools_4.2.2       #> [57] bit64_4.0.5       glue_1.6.2        purrr_1.0.1       hms_1.1.2         #> [61] crosstalk_1.2.0   parallel_4.2.2    fastmap_1.1.1     yaml_2.3.7        #> [65] colorspace_2.1-0  memoise_2.0.1     knitr_1.42        sass_0.4.5"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_project_nums_quick.html","id":"projects","dir":"Articles","previous_headings":"","what":"Projects","title":"Case study: specific projects","text":"Suppose one interested specific projects, grant project numbers known. Define search . Query NIH Reporter projects interest. use project_nums= argument required reflection API schema provided end API projects endpoint. Explore data, instance finding Funding Opportunity Announcement grants reward , fiscal years active.","code":"project_nums <- c(\"U01CA190234\", \"U24CA194354\") projects <- reporter_projects(project_nums = project_nums) projects |>     group_by(core_project_num) |>     summarize(         foa = unique(full_foa),         first_funding = min(fiscal_year),         last_funding = max(fiscal_year)     ) |>     datatable()"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_project_nums_quick.html","id":"publications","dir":"Articles","previous_headings":"","what":"Publications","title":"Case study: specific projects","text":"Use core project numbers retrieve known publications numbers publications associated grant ","code":"core_project_nums <-     pull(projects, \"core_project_num\") |>     unique() publications <- reporter_publications(core_project_nums = core_project_nums) publications |>     count(coreproject) |>     datatable()"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_project_nums_quick.html","id":"citations","dir":"Articles","previous_headings":"","what":"Citations","title":"Case study: specific projects","text":"Obtain citation information (including information orginal publication) using publications tibble Explore interactively Use ‘join’ tables associate publications citations","code":"citations <- icite(publications) citations |>     select(pmid, citation_count, relative_citation_ratio, year, title) |>     datatable() left_join(publications, citations) |>     group_by(coreproject, year) |>     summarize(         n_publications = n(),         total_citations = sum(citation_count)     ) |>     datatable() #> Joining with `by = join_by(pmid)` #> `summarise()` has grouped output by 'coreproject'. You can override using the #> `.groups` argument."},{"path":"https://mtmorgan.github.io/grantpubcite/articles/case_study_project_nums_quick.html","id":"session-information","dir":"Articles","previous_headings":"","what":"Session information","title":"Case study: specific projects","text":"","code":"sessionInfo() #> R version 4.2.2 (2022-10-31) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.2 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] DT_0.27                 grantpubcite_0.0.0.9005 dplyr_1.1.0             #>  #> loaded via a namespace (and not attached): #>  [1] bslib_0.4.2       compiler_4.2.2    pillar_1.8.1      jquerylib_0.1.4   #>  [5] tools_4.2.2       bit_4.0.5         digest_0.6.31     jsonlite_1.8.4    #>  [9] evaluate_0.20     memoise_2.0.1     lifecycle_1.0.3   tibble_3.1.8      #> [13] pkgconfig_2.0.3   rlang_1.0.6       cli_3.6.0         crosstalk_1.2.0   #> [17] parallel_4.2.2    curl_5.0.0        yaml_2.3.7        pkgdown_2.0.7     #> [21] xfun_0.37         fastmap_1.1.1     withr_2.5.0       stringr_1.5.0     #> [25] httr_1.4.5        knitr_1.42        htmlwidgets_1.6.1 rjsoncons_1.0.0   #> [29] hms_1.1.2         desc_1.4.2        generics_0.1.3    fs_1.6.1          #> [33] vctrs_0.5.2       sass_0.4.5        systemfonts_1.0.4 bit64_4.0.5       #> [37] rprojroot_2.0.3   tidyselect_1.2.0  glue_1.6.2        R6_2.5.1          #> [41] textshaping_0.3.6 fansi_1.0.4       vroom_1.6.1       rmarkdown_2.20    #> [45] tzdb_0.3.0        purrr_1.0.1       readr_2.1.4       magrittr_2.0.3    #> [49] ellipsis_0.3.2    htmltools_0.5.4   ragg_1.2.5        utf8_1.2.3        #> [53] stringi_1.7.12    cachem_1.0.7      crayon_1.5.2"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/grantpubcite.html","id":"installation-and-loading","dir":"Articles","previous_headings":"","what":"Installation and loading","title":"Introduction to 'grantpubcite'","text":"Install development version grantpubcite github. Load library packages used vignette.","code":"if (!nzchar(system.file(package = \"remotes\")))     install.package(\"remotes\", repos = \"https://cran.r-project.org\") remotes::install_github(\"mtmorgan/grantpubcite\") library(grantpubcite)"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/grantpubcite.html","id":"nih-reporter-projects","dir":"Articles","previous_headings":"","what":"NIH Reporter projects","title":"Introduction to 'grantpubcite'","text":"reporter_projects() queries ‘projects’ endpoint; see technical description NIH Reporter project search API details, paying particular attention ‘schema’ present executable example.. illustration start identifying Funding Opportunity Announcemments (FOA) might interest, case current FOA Information Technology Cancer Research (ITCR) program. Use reporter_projects() providing criteria used query NIH Reporter projects endpoint. criteria provided named arguments reporter_projects(). query projects awarded FOA interest, use argument foa =. Initially, use limit = 1 argument retrieve just single record. shows return value reporter_projects() tibble (tidyverse representation data.frame) single row corresponding requested record, possible fields returned query. Inspect fields might interest, define variable reference . Now execute reporter_projects() query FOA interest, including fields interest response. interactive session, useful way visually navigate data use DT package, DT::datatable(projects).","code":"foas <- c(        # one or more criteria, e.g., foa number(s)     \"PAR-15-334\", # ITCR (R21)”     \"PAR-15-332\", # ITCR Early-Stage Development (U01)     \"PAR-15-331\", # ITCR Advanced Development (U24)     \"PAR-15-333\"  # ITCR Sustained Support (U24) ) reporter_projects(foa = foas, limit = 1L) |>     glimpse() #> Rows: 1 #> Columns: 44 #> $ appl_id                  <int> 9676260 #> $ subproject_id            <lgl> NA #> $ fiscal_year              <int> 2019 #> $ project_num              <chr> \"5U24CA220242-02\" #> $ project_serial_num       <chr> \"CA220242\" #> $ organization             <df[,17]> <data.frame[1 x 17]> #> $ award_type               <chr> \"5\" #> $ activity_code            <chr> \"U24\" #> $ award_amount             <int> 550158 #> $ is_active                <lgl> FALSE #> $ project_num_split        <df[,7]> <data.frame[1 x 7]> #> $ principal_investigators  <list> [<data.frame[1 x 8]>] #> $ contact_pi_name          <chr> \"ABYZOV, ALEXEJ \" #> $ program_officers         <list> [<data.frame[1 x 5]>] #> $ agency_ic_admin          <df[,3]> <data.frame[1 x 3]> #> $ agency_ic_fundings       <list> [<data.frame[1 x 5]>] #> $ cong_dist                <chr> \"MN-01\" #> $ spending_categories      <list> <108, 132, 1393, 276, 320, 3070, 3724> #> $ project_start_date       <chr> \"2018-05-01T12:05:00Z\" #> $ project_end_date         <chr> \"2023-04-30T12:04:00Z\" #> $ organization_type        <df[,3]> <data.frame[1 x 3]> #> $ full_foa                 <chr> \"PAR-15-331\" #> $ full_study_section       <df[,11]> <data.frame[1 x 11]> #> $ award_notice_date        <chr> \"2019-05-01T12:05:00Z\" #> $ is_new                   <lgl> FALSE #> $ mechanism_code_dc        <chr> \"OR\" #> $ core_project_num         <chr> \"U24CA220242\" #> $ terms                    <chr> \"<Aftercare><post treatment><After-Treatment>… #> $ pref_terms               <chr> \"Address;Aftercare;Area;Attention;Basic Scien… #> $ abstract_text            <chr> \"Project Summary/Abstract\\n Progress in techn… #> $ project_title            <chr> \"Detection of somatic, subclonal and mosaic C… #> $ phr_text                 <chr> \"Narrative\\nThe analytical tools that will be… #> $ spending_categories_desc <chr> \"Biotechnology; Cancer; Cancer Genomics; … #> $ agency_code              <chr> \"NIH\" #> $ covid_response           <lgl> NA #> $ arra_funded              <chr> \"N\" #> $ budget_start             <chr> \"2019-05-01T12:05:00Z\" #> $ budget_end               <chr> \"2020-04-30T12:04:00Z\" #> $ cfda_code                <chr> \"399\" #> $ funding_mechanism        <chr> \"Other Research-Related\" #> $ direct_cost_amt          <int> 348999 #> $ indirect_cost_amt        <int> 201159 #> $ project_detail_url       <lgl> NA #> $ date_added               <chr> \"2019-05-04T07:05:16Z\" include_fields <- c(     \"full_foa\",     \"core_project_num\",     \"fiscal_year\",     \"award_amount\",     \"contact_pi_name\",     \"project_title\",     \"project_start_date\",     \"project_end_date\" ) projects <- reporter_projects(foa = foas, include_fields = include_fields) projects #> # A tibble: 186 × 8 #>    full_foa   core_project_num fiscal_…¹ award…² conta…³ proje…⁴ proje…⁵ proje…⁶ #>    <chr>      <chr>                <int>   <int> <chr>   <chr>   <chr>   <chr>   #>  1 PAR-15-331 U24CA220242           2019  550158 \"ABYZO… Detect… 2018-0… 2023-0… #>  2 PAR-15-331 U24CA220242           2022  561369 \"ABYZO… Detect… 2018-0… 2024-0… #>  3 PAR-15-331 U24CA220242           2021  572828 \"ABYZO… Detect… 2018-0… 2023-0… #>  4 PAR-15-331 U24CA220242           2018  559916 \"ABYZO… Detect… 2018-0… 2023-0… #>  5 PAR-15-331 U24CA220242           2020  383715 \"ABYZO… Detect… 2018-0… 2023-0… #>  6 PAR-15-334 R21CA220352           2019  156788 \"ARNOL… Predic… 2018-0… 2021-0… #>  7 PAR-15-334 R21CA220352           2018  195568 \"ARNOL… Predic… 2018-0… 2020-0… #>  8 PAR-15-332 U01CA242871           2019  378519 \"BAKAS… The Fe… 2019-0… 2022-0… #>  9 PAR-15-332 U01CA242871           2020  360393 \"BAKAS… The Fe… 2019-0… 2022-0… #> 10 PAR-15-332 U01CA242871           2021  357972 \"BAKAS… The Fe… 2019-0… 2023-0… #> # … with 176 more rows, and abbreviated variable names ¹​fiscal_year, #> #   ²​award_amount, ³​contact_pi_name, ⁴​project_title, ⁵​project_start_date, #> #   ⁶​project_end_date"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/grantpubcite.html","id":"nih-reporter-publications","dir":"Articles","previous_headings":"","what":"NIH Reporter publications","title":"Introduction to 'grantpubcite'","text":"NIH Reporter publication search API provides way retrieve publications reported grant-supported. search criteria complicated, return value always tibble columns coreproject, pmid, applid. search citations projects funded current ITCR FOAs. Note projects funded previous ITCR FOA, publications can appear ‘’ funding current FOA.","code":"core_project_nums <-     pull(projects, \"core_project_num\") |>     unique() publications <- reporter_publications(core_project_nums = core_project_nums) publications #> # A tibble: 869 × 3 #>    coreproject     pmid   applid #>    <chr>          <int>    <int> #>  1 U24CA237719 31907209 10370336 #>  2 U24CA237719 31990579 10370336 #>  3 U24CA237719 32191543 10370336 #>  4 U24CA237719 33260207 10370336 #>  5 U24CA237719 34341766 10370336 #>  6 U24CA237719 35611186 10370336 #>  7 U24CA237719 32180547 10370336 #>  8 U24CA237719 34036230 10370336 #>  9 U24CA237719 35072136 10370336 #> 10 U24CA237719 35101336 10370336 #> # … with 859 more rows"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/grantpubcite.html","id":"icite-publication-citations","dir":"Articles","previous_headings":"","what":"iCite publication citations","title":"Introduction to 'grantpubcite'","text":"NIH iCite resource API can used map PMID ids NIH Reporter detailed information publications, including citations derived citation measures account , e.g., time since publication. Discover available fields querying iCite using first row publications tibble obtained NIH Reporter. iCite() takes first argument tibble, provided column pmid. Identify fields interest, query publications associated ","code":"## which fields are available in icite? icite(slice(publications, 1L)) |>     glimpse() #> Rows: 1 #> Columns: 24 #> $ pmid                        <dbl> 31907209 #> $ year                        <dbl> 2020 #> $ title                       <chr> \"pVACtools: A Computational Toolkit to Ide… #> $ authors                     <chr> \"Jasreet Hundal, Susanna Kiwala, Joshua Mc… #> $ journal                     <chr> \"Cancer Immunol Res\" #> $ is_research_article         <chr> \"Yes\" #> $ relative_citation_ratio     <dbl> 4.68 #> $ nih_percentile              <dbl> 92.5 #> $ human                       <dbl> 1 #> $ animal                      <dbl> 0 #> $ molecular_cellular          <dbl> 0 #> $ apt                         <dbl> 0.75 #> $ is_clinical                 <chr> \"No\" #> $ citation_count              <dbl> 65 #> $ citations_per_year          <dbl> 21.66667 #> $ expected_citations_per_year <dbl> 4.62826 #> $ field_citation_rate         <dbl> 10.77414 #> $ provisional                 <chr> \"No\" #> $ x_coord                     <dbl> 0 #> $ y_coord                     <dbl> 1 #> $ cited_by_clin               <lgl> NA #> $ cited_by                    <chr> \"35646870 34075855 34927080 33262196 34529… #> $ references                  <chr> \"23396013 29170503 31243155 19906713 28694… #> $ doi                         <chr> \"10.1158/2326-6066.CIR-19-0401\" include_fields <- c(     \"pmid\", \"year\", \"citation_count\", \"relative_citation_ratio\",     \"doi\" ) icite(publications, include_fields) #> # A tibble: 820 × 5 #>        pmid  year citation_count relative_citation_ratio doi                     #>       <dbl> <dbl>          <dbl>                   <dbl> <chr>                   #>  1 19898898  2010             32                    0.8  10.1245/s10434-009-079… #>  2 24925914  2014           2419                   76.8  10.1126/science.1254257 #>  3 24931973  2014             36                    1.21 10.1093/bioinformatics… #>  4 25086664  2014             91                    2.54 10.1038/ng.3051         #>  5 25714012  2015             10                    0.37 10.18632/oncotarget.29… #>  6 26083491  2015             25                    0.83 10.1371/journal.pone.0… #>  7 26463000  2016             33                    1.19 10.1093/bib/bbv080      #>  8 26594663  2015            139                    4.62 10.1016/j.cels.2015.10… #>  9 26638175  2015            139                    4.17 10.1016/j.molcel.2015.… #> 10 26644347  2015             26                    0.81 10.1038/ncomms9726      #> # … with 810 more rows"},{"path":"https://mtmorgan.github.io/grantpubcite/articles/grantpubcite.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next steps","title":"Introduction to 'grantpubcite'","text":"See Case Studies articles examples working data.","code":""},{"path":"https://mtmorgan.github.io/grantpubcite/articles/grantpubcite.html","id":"session-information","dir":"Articles","previous_headings":"","what":"Session information","title":"Introduction to 'grantpubcite'","text":"following summarizes packages use article compiled.","code":"sessionInfo() #> R version 4.2.2 (2022-10-31) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.2 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] grantpubcite_0.0.0.9005 dplyr_1.1.0             #>  #> loaded via a namespace (and not attached): #>  [1] bslib_0.4.2       compiler_4.2.2    pillar_1.8.1      jquerylib_0.1.4   #>  [5] tools_4.2.2       bit_4.0.5         digest_0.6.31     jsonlite_1.8.4    #>  [9] evaluate_0.20     memoise_2.0.1     lifecycle_1.0.3   tibble_3.1.8      #> [13] pkgconfig_2.0.3   rlang_1.0.6       cli_3.6.0         parallel_4.2.2    #> [17] curl_5.0.0        yaml_2.3.7        pkgdown_2.0.7     xfun_0.37         #> [21] fastmap_1.1.1     withr_2.5.0       stringr_1.5.0     httr_1.4.5        #> [25] knitr_1.42        rjsoncons_1.0.0   hms_1.1.2         desc_1.4.2        #> [29] generics_0.1.3    fs_1.6.1          vctrs_0.5.2       sass_0.4.5        #> [33] systemfonts_1.0.4 bit64_4.0.5       rprojroot_2.0.3   tidyselect_1.2.0  #> [37] glue_1.6.2        R6_2.5.1          textshaping_0.3.6 fansi_1.0.4       #> [41] vroom_1.6.1       rmarkdown_2.20    tzdb_0.3.0        purrr_1.0.1       #> [45] readr_2.1.4       magrittr_2.0.3    ellipsis_0.3.2    htmltools_0.5.4   #> [49] ragg_1.2.5        utf8_1.2.3        stringi_1.7.12    cachem_1.0.7      #> [53] crayon_1.5.2"},{"path":"https://mtmorgan.github.io/grantpubcite/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Martin Morgan. Author, maintainer.","code":""},{"path":"https://mtmorgan.github.io/grantpubcite/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Morgan M (2023). grantpubcite: Query 'NIH Reporter' 'iCite' Grant Publication Information. R package version 0.0.0.9005, https://mtmorgan.github.io/grantpubcite/.","code":"@Manual{,   title = {grantpubcite: Query 'NIH Reporter' and 'iCite' for Grant and Publication Information},   author = {Martin Morgan},   year = {2023},   note = {R package version 0.0.0.9005},   url = {https://mtmorgan.github.io/grantpubcite/}, }"},{"path":"https://mtmorgan.github.io/grantpubcite/index.html","id":"grantpubcite","dir":"","previous_headings":"","what":"Query NIH Reporter and iCite for Grant and Publication Information","title":"Query NIH Reporter and iCite for Grant and Publication Information","text":"‘grantpubcite’ package used query NIH Reporter database funded grants , optionally, publications associated grants NIH Reporter. citation history publications can discovered using iCite. ‘grantpubcite’ package help pages resources make extensive use ‘tidyverse’ concepts. Install development version grantpubcite github. Load library packages used vignette. See Get started introduction package. Case study: ITCR illustration package use analysing grants NIH Information Technology Cancer Research portfolio grants. Please note experienced sort analysis, conclusions viewed great skepticism.","code":"if (!nzchar(system.file(package = \"remotes\")))     install.package(\"remotes\", repos = \"https://cran.r-project.org\") remotes::install_github(\"mtmorgan/grantpubcite\") library(grantpubcite)"},{"path":"https://mtmorgan.github.io/grantpubcite/reference/user_interface.html","id":null,"dir":"Reference","previous_headings":"","what":"Query projects, publications and citations — reporter_projects","title":"Query projects, publications and citations — reporter_projects","text":"Query projects, publications citations","code":""},{"path":"https://mtmorgan.github.io/grantpubcite/reference/user_interface.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query projects, publications and citations — reporter_projects","text":"","code":"reporter_projects(..., include_fields = NULL, limit = NULL, verbose = FALSE)  reporter_publications(..., limit = NULL, verbose = FALSE)  icite(tbl, include_fields = NULL, verbose = FALSE)"},{"path":"https://mtmorgan.github.io/grantpubcite/reference/user_interface.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query projects, publications and citations — reporter_projects","text":"... named arguments descrbing fields query. Values 'Schema' linked API description. include_fields character() fields include. default (null) returns available fields. limit integer(1) return maximum limit records matching search criteria. verbose logical(1) report JSON used search criteria, summary responses prior processing final tibble representation. tbl icite(), tbl must contain column pmid PubMed ids, instance tibble derived reporter_publications().","code":""},{"path":"https://mtmorgan.github.io/grantpubcite/reference/user_interface.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query projects, publications and citations — reporter_projects","text":"reporter_projects() returns tibble selected columns. Available columns described schema available API documentation page. reporter_publications() returns tibble columns coreproject, pmid, applid. icite() returns tibble columns defined include_fields.","code":""},{"path":"https://mtmorgan.github.io/grantpubcite/reference/user_interface.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Query projects, publications and citations — reporter_projects","text":"NIH reporter API used reporter_projects() reporter_publications() documented https://api.reporter.nih.gov/. icite() API described https://icite.od.nih.gov/api.","code":""},{"path":"https://mtmorgan.github.io/grantpubcite/reference/user_interface.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query projects, publications and citations — reporter_projects","text":"","code":"foas <- c(        # one or more criteria, e.g., foa number(s)     \"PAR-15-334\", # ITCR (R21)”     \"PAR-15-332\", # ITCR Early-Stage Development (U01)     \"PAR-15-331\", # ITCR Advanced Development (U24)     \"PAR-15-333\"  # ITCR Sustained Support (U24) )  ## use `limit = 1` to see possible values for fields to be included reporter_projects(foa = foas, limit = 1L) |>     glimpse() #> Rows: 1 #> Columns: 44 #> $ appl_id                  <int> 9676260 #> $ subproject_id            <lgl> NA #> $ fiscal_year              <int> 2019 #> $ project_num              <chr> \"5U24CA220242-02\" #> $ project_serial_num       <chr> \"CA220242\" #> $ organization             <df[,17]> <data.frame[1 x 17]> #> $ award_type               <chr> \"5\" #> $ activity_code            <chr> \"U24\" #> $ award_amount             <int> 550158 #> $ is_active                <lgl> FALSE #> $ project_num_split        <df[,7]> <data.frame[1 x 7]> #> $ principal_investigators  <list> [<data.frame[1 x 8]>] #> $ contact_pi_name          <chr> \"ABYZOV, ALEXEJ \" #> $ program_officers         <list> [<data.frame[1 x 5]>] #> $ agency_ic_admin          <df[,3]> <data.frame[1 x 3]> #> $ agency_ic_fundings       <list> [<data.frame[1 x 5]>] #> $ cong_dist                <chr> \"MN-01\" #> $ spending_categories      <list> <108, 132, 1393, 276, 320, 3070, 3724> #> $ project_start_date       <chr> \"2018-05-01T12:05:00Z\" #> $ project_end_date         <chr> \"2023-04-30T12:04:00Z\" #> $ organization_type        <df[,3]> <data.frame[1 x 3]> #> $ full_foa                 <chr> \"PAR-15-331\" #> $ full_study_section       <df[,11]> <data.frame[1 x 11]> #> $ award_notice_date        <chr> \"2019-05-01T12:05:00Z\" #> $ is_new                   <lgl> FALSE #> $ mechanism_code_dc        <chr> \"OR\" #> $ core_project_num         <chr> \"U24CA220242\" #> $ terms                    <chr> \"<Aftercare><post treatment><After-Treatment>… #> $ pref_terms               <chr> \"Address;Aftercare;Area;Attention;Basic Scien… #> $ abstract_text            <chr> \"Project Summary/Abstract\\n Progress in techn… #> $ project_title            <chr> \"Detection of somatic, subclonal and mosaic C… #> $ phr_text                 <chr> \"Narrative\\nThe analytical tools that will be… #> $ spending_categories_desc <chr> \"Biotechnology; Cancer; Cancer Genomics; … #> $ agency_code              <chr> \"NIH\" #> $ covid_response           <lgl> NA #> $ arra_funded              <chr> \"N\" #> $ budget_start             <chr> \"2019-05-01T12:05:00Z\" #> $ budget_end               <chr> \"2020-04-30T12:04:00Z\" #> $ cfda_code                <chr> \"399\" #> $ funding_mechanism        <chr> \"Other Research-Related\" #> $ direct_cost_amt          <int> 348999 #> $ indirect_cost_amt        <int> 201159 #> $ project_detail_url       <lgl> NA #> $ date_added               <chr> \"2019-05-04T07:05:16Z\"  ## select fields of interest include_fields <- c(     \"full_foa\",     \"core_project_num\",     \"fiscal_year\",     \"award_amount\",     \"contact_pi_name\",     \"project_title\",     \"project_start_date\",     \"project_end_date\" ) projects <- reporter_projects(foa = foas, include_fields = include_fields) projects #> # A tibble: 186 × 8 #>    full_foa   core_project_num fiscal_…¹ award…² conta…³ proje…⁴ proje…⁵ proje…⁶ #>    <chr>      <chr>                <int>   <int> <chr>   <chr>   <chr>   <chr>   #>  1 PAR-15-331 U24CA220242           2019  550158 \"ABYZO… Detect… 2018-0… 2023-0… #>  2 PAR-15-331 U24CA220242           2022  561369 \"ABYZO… Detect… 2018-0… 2024-0… #>  3 PAR-15-331 U24CA220242           2021  572828 \"ABYZO… Detect… 2018-0… 2023-0… #>  4 PAR-15-331 U24CA220242           2018  559916 \"ABYZO… Detect… 2018-0… 2023-0… #>  5 PAR-15-331 U24CA220242           2020  383715 \"ABYZO… Detect… 2018-0… 2023-0… #>  6 PAR-15-334 R21CA220352           2019  156788 \"ARNOL… Predic… 2018-0… 2021-0… #>  7 PAR-15-334 R21CA220352           2018  195568 \"ARNOL… Predic… 2018-0… 2020-0… #>  8 PAR-15-332 U01CA242871           2019  378519 \"BAKAS… The Fe… 2019-0… 2022-0… #>  9 PAR-15-332 U01CA242871           2020  360393 \"BAKAS… The Fe… 2019-0… 2022-0… #> 10 PAR-15-332 U01CA242871           2021  357972 \"BAKAS… The Fe… 2019-0… 2023-0… #> # … with 176 more rows, and abbreviated variable names ¹​fiscal_year, #> #   ²​award_amount, ³​contact_pi_name, ⁴​project_title, ⁵​project_start_date, #> #   ⁶​project_end_date  core_project_nums <- pull(projects, \"core_project_num\") publications <- reporter_publications(core_project_nums = core_project_nums) publications #> # A tibble: 869 × 3 #>    coreproject     pmid   applid #>    <chr>          <int>    <int> #>  1 U24CA237719 31907209 10370336 #>  2 U24CA237719 31990579 10370336 #>  3 U24CA237719 32191543 10370336 #>  4 U24CA237719 33260207 10370336 #>  5 U24CA237719 34341766 10370336 #>  6 U24CA237719 35611186 10370336 #>  7 U24CA237719 32180547 10370336 #>  8 U24CA237719 34036230 10370336 #>  9 U24CA237719 35072136 10370336 #> 10 U24CA237719 35101336 10370336 #> # … with 859 more rows  ## which fields are available in icite? icite(slice(publications, 1L)) |>     glimpse() #> Rows: 1 #> Columns: 24 #> $ pmid                        <dbl> 31907209 #> $ year                        <dbl> 2020 #> $ title                       <chr> \"pVACtools: A Computational Toolkit to Ide… #> $ authors                     <chr> \"Jasreet Hundal, Susanna Kiwala, Joshua Mc… #> $ journal                     <chr> \"Cancer Immunol Res\" #> $ is_research_article         <chr> \"Yes\" #> $ relative_citation_ratio     <dbl> 4.68 #> $ nih_percentile              <dbl> 92.5 #> $ human                       <dbl> 1 #> $ animal                      <dbl> 0 #> $ molecular_cellular          <dbl> 0 #> $ apt                         <dbl> 0.75 #> $ is_clinical                 <chr> \"No\" #> $ citation_count              <dbl> 65 #> $ citations_per_year          <dbl> 21.66667 #> $ expected_citations_per_year <dbl> 4.62826 #> $ field_citation_rate         <dbl> 10.77414 #> $ provisional                 <chr> \"No\" #> $ x_coord                     <dbl> 0 #> $ y_coord                     <dbl> 1 #> $ cited_by_clin               <lgl> NA #> $ cited_by                    <chr> \"35646870 34075855 34927080 33262196 34529… #> $ references                  <chr> \"23396013 29170503 31243155 19906713 28694… #> $ doi                         <chr> \"10.1158/2326-6066.CIR-19-0401\"  include_fields <- c(     \"pmid\", \"year\", \"citation_count\", \"relative_citation_ratio\",     \"doi\" ) icite(publications, include_fields) #> # A tibble: 820 × 5 #>        pmid  year citation_count relative_citation_ratio doi                     #>       <dbl> <dbl>          <dbl>                   <dbl> <chr>                   #>  1 19898898  2010             32                    0.8  10.1245/s10434-009-079… #>  2 24925914  2014           2419                   76.8  10.1126/science.1254257 #>  3 24931973  2014             36                    1.21 10.1093/bioinformatics… #>  4 25086664  2014             91                    2.54 10.1038/ng.3051         #>  5 25714012  2015             10                    0.37 10.18632/oncotarget.29… #>  6 26083491  2015             25                    0.83 10.1371/journal.pone.0… #>  7 26463000  2016             33                    1.19 10.1093/bib/bbv080      #>  8 26594663  2015            139                    4.62 10.1016/j.cels.2015.10… #>  9 26638175  2015            139                    4.17 10.1016/j.molcel.2015.… #> 10 26644347  2015             26                    0.81 10.1038/ncomms9726      #> # … with 810 more rows"}]
